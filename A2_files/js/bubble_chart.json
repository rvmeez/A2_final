{
    "$schema": "https://vega.github.io/schema/vega/v5.json",
    "width": 700,
    "height": 600,
    "padding": {"left": 5, "right": 5, "top": 20, "bottom": 40},
    "autosize": "none",
    "signals": [
      {
        "name": "Deaths",
        "value": 700,
        "bind": {"input": "range", "min": 700, "max": 1150000}
      }
    ],
    "data": [
      {
        "name": "table",
        "values": [
          {"country": "USA", "num_deaths": 1132935},
          {"country": "India", "num_deaths": 530740},
          {"country": "France", "num_deaths": 164233},
          {"country": "Germany", "num_deaths": 165711},
          {"country": "Brazil", "num_deaths": 697074},
          {"country": "Japan", "num_deaths": 68399},
          {"country": "S. Korea", "num_deaths": 33486},
          {"country": "Italy", "num_deaths": 186833},
          {"country": "UK", "num_deaths": 204171},
          {"country": "Russia", "num_deaths": 395108},
          {"country": "Turkey", "num_deaths": 101492},
          {"country": "Spain", "num_deaths": 118434},
          {"country": "Vietnam", "num_deaths": 43186},
          {"country": "Australia", "num_deaths": 18615},
          {"country": "Argentina", "num_deaths": 130421},
          {"country": "Taiwan", "num_deaths": 16356},
          {"country": "Netherlands", "num_deaths": 22989},
          {"country": "Iran", "num_deaths": 144749},
          {"country": "Mexico", "num_deaths": 332198},
          {"country": "Indonesia", "num_deaths": 160817},
          {"country": "Poland", "num_deaths": 118736},
          {"country": "Colombia", "num_deaths": 142486},
          {"country": "Austria", "num_deaths": 21689},
          {"country": "Greece", "num_deaths": 35630},
          {"country": "Portugal", "num_deaths": 26022},
          {"country": "Ukraine", "num_deaths": 111020},
          {"country": "Chile", "num_deaths": 63812},
          {"country": "Malaysia", "num_deaths": 36942},
          {"country": "Israel", "num_deaths": 12193},
          {"country": "DPRK", "num_deaths": 74},
          {"country": "Thailand", "num_deaths": 33865},
          {"country": "Belgium", "num_deaths": 33557},
          {"country": "Czechia", "num_deaths": 42312},
          {"country": "Canada", "num_deaths": 50380},
          {"country": "Peru", "num_deaths": 218931},
          {"country": "Switzerland", "num_deaths": 14452},
          {"country": "Philippines", "num_deaths": 65802},
          {"country": "South Africa", "num_deaths": 102595},
          {"country": "Romania", "num_deaths": 67576},
          {"country": "Denmark", "num_deaths": 8145},
          {"country": "Hong Kong", "num_deaths": 13358},
          {"country": "Sweden", "num_deaths": 23246},
          {"country": "Serbia", "num_deaths": 17701},
          {"country": "Iraq", "num_deaths": 25375},
          {"country": "Singapore", "num_deaths": 1722},
          {"country": "Hungary", "num_deaths": 48677},
          {"country": "New Zealand", "num_deaths": 3781},
          {"country": "Bangladesh", "num_deaths": 29442},
          {"country": "Slovakia", "num_deaths": 20946},
          {"country": "Georgia", "num_deaths": 16926},
          {"country": "Jordan", "num_deaths": 14122},
          {"country": "Ireland", "num_deaths": 8462},
          {"country": "Pakistan", "num_deaths": 30640},
          {"country": "Norway", "num_deaths": 5112},
          {"country": "Finland", "num_deaths": 8639},
          {"country": "Kazakhstan", "num_deaths": 13695},
          {"country": "Slovenia", "num_deaths": 7056},
          {"country": "Lithuania", "num_deaths": 9545},
          {"country": "Bulgaria", "num_deaths": 38179},
          {"country": "Morocco", "num_deaths": 16296},
          {"country": "Croatia", "num_deaths": 17877},
          {"country": "Lebanon", "num_deaths": 10790},
          {"country": "Guatemala", "num_deaths": 20106},
          {"country": "Bolivia", "num_deaths": 22346},
          {"country": "Costa Rica", "num_deaths": 9158},
          {"country": "Tunisia", "num_deaths": 29308},
          {"country": "Cuba", "num_deaths": 8530},
          {"country": "Ecuador", "num_deaths": 35942},
          {"country": "UAE", "num_deaths": 2348},
          {"country": "Uruguay", "num_deaths": 7609},
          {"country": "Panama", "num_deaths": 8596},
          {"country": "Mongolia", "num_deaths": 2179},
          {"country": "Nepal", "num_deaths": 12020},
          {"country": "Belarus", "num_deaths": 7118},
          {"country": "Latvia", "num_deaths": 6218},
          {"country": "Saudi Arabia", "num_deaths": 9574},
          {"country": "Azerbaijan", "num_deaths": 10085},
          {"country": "Paraguay", "num_deaths": 19820},
          {"country": "Bahrain", "num_deaths": 1543},
          {"country": "Sri Lanka", "num_deaths": 16828},
          {"country": "Kuwait", "num_deaths": 2570},
          {"country": "Dominican Republic", "num_deaths": 4384},
          {"country": "Cyprus", "num_deaths": 1287},
          {"country": "Myanmar", "num_deaths": 19490},
          {"country": "Palestine", "num_deaths": 5404},
          {"country": "Estonia", "num_deaths": 2912},
          {"country": "Moldova", "num_deaths": 11953},
          {"country": "Venezuela", "num_deaths": 5845},
          {"country": "Egypt", "num_deaths": 24613},
          {"country": "Libya", "num_deaths": 6437},
          {"country": "China", "num_deaths": 5272},
          {"country": "Ethiopia", "num_deaths": 7572},
          {"country": "Qatar", "num_deaths": 686},
          {"country": "RÃ©union", "num_deaths": 919},
          {"country": "Honduras", "num_deaths": 11104},
          {"country": "Armenia", "num_deaths": 8717},
          {"country": "Bosnia and Herzegovina", "num_deaths": 16255},
          {"country": "Oman", "num_deaths": 4628},
          {"country": "North Macedonia", "num_deaths": 9638},
          {"country": "Kenya", "num_deaths": 5688},
          {"country": "Zambia", "num_deaths": 4047},
          {"country": "Albania", "num_deaths": 3595},
          {"country": "Botswana", "num_deaths": 2800},
          {"country": "Luxembourg", "num_deaths": 1133},
          {"country": "Montenegro", "num_deaths": 2797},
          {"country": "Brunei", "num_deaths": 225},
          {"country": "Algeria", "num_deaths": 6881},
          {"country": "Nigeria", "num_deaths": 3155},
          {"country": "Zimbabwe", "num_deaths": 5652},
          {"country": "Uzbekistan", "num_deaths": 1637},
          {"country": "Mozambique", "num_deaths": 2233},
          {"country": "Martinique", "num_deaths": 1097},
          {"country": "Laos", "num_deaths": 758},
          {"country": "Iceland", "num_deaths": 229},
          {"country": "Afghanistan", "num_deaths": 7882},
          {"country": "Kyrgyzstan", "num_deaths": 2991},
          {"country": "El Salvador", "num_deaths": 4230},
          {"country": "Guadeloupe", "num_deaths": 1007},
          {"country": "Trinidad and Tobago", "num_deaths": 4326},
          {"country": "Maldives", "num_deaths": 311},
          {"country": "Ghana", "num_deaths": 1462},
          {"country": "Namibia", "num_deaths": 4088},
          {"country": "Uganda", "num_deaths": 3630},
          {"country": "Jamaica", "num_deaths": 3480},
          {"country": "Cambodia", "num_deaths": 3056},
          {"country": "Rwanda", "num_deaths": 1468},
          {"country": "Cameroon", "num_deaths": 1965},
          {"country": "Malta", "num_deaths": 824},
          {"country": "Barbados", "num_deaths": 571},
          {"country": "Angola", "num_deaths": 1931},
          {"country": "Channel Islands", "num_deaths": 223},
          {"country": "French Guiana", "num_deaths": 420},
          {"country": "DRC", "num_deaths": 1463},
          {"country": "Senegal", "num_deaths": 1971},
          {"country": "Malawi", "num_deaths": 2686},
          {"country": "Ivory Coast", "num_deaths": 833},
          {"country": "Suriname", "num_deaths": 1398},
          {"country": "New Caledonia", "num_deaths": 314},
          {"country": "French Polynesia", "num_deaths": 649},
          {"country": "Eswatini", "num_deaths": 1422},
          {"country": "Guyana", "num_deaths": 1294},
          {"country": "Belize", "num_deaths": 688},
          {"country": "Fiji", "num_deaths": 883},
          {"country": "Madagascar", "num_deaths": 1419},
          {"country": "Sudan", "num_deaths": 5001},
          {"country": "Mauritania", "num_deaths": 997},
          {"country": "Cabo Verde", "num_deaths": 413},
          {"country": "Bhutan", "num_deaths": 21},
          {"country": "Syria", "num_deaths": 3164},
          {"country": "Burundi", "num_deaths": 38},
          {"country": "Seychelles", "num_deaths": 172},
          {"country": "Gabon", "num_deaths": 306},
          {"country": "Andorra", "num_deaths": 165},
          {"country": "Papua New Guinea", "num_deaths": 670},
          {"country": "CuraÃ§ao", "num_deaths": 295},
          {"country": "Aruba", "num_deaths": 236},
          {"country": "Tanzania", "num_deaths": 846},
          {"country": "Mayotte", "num_deaths": 188},
          {"country": "Mauritius", "num_deaths": 1043},
          {"country": "Togo", "num_deaths": 290},
          {"country": "Guinea", "num_deaths": 467},
          {"country": "Isle of Man", "num_deaths": 116},
          {"country": "Bahamas", "num_deaths": 833},
          {"country": "Lesotho", "num_deaths": 723},
          {"country": "Faeroe Islands", "num_deaths": 28},
          {"country": "Haiti", "num_deaths": 860},
          {"country": "Mali", "num_deaths": 743},
          {"country": "Cayman Islands", "num_deaths": 37},
          {"country": "Saint Lucia", "num_deaths": 409},
          {"country": "Benin", "num_deaths": 163},
          {"country": "Somalia", "num_deaths": 1361},
          {"country": "Congo", "num_deaths": 386},
          {"country": "Solomon Islands", "num_deaths": 153},
          {"country": "San Marino", "num_deaths": 122},
          {"country": "Timor-Leste", "num_deaths": 138},
          {"country": "Micronesia", "num_deaths": 58},
          {"country": "Burkina Faso", "num_deaths": 396},
          {"country": "Liechtenstein", "num_deaths": 89},
          {"country": "Gibraltar", "num_deaths": 111},
          {"country": "Grenada", "num_deaths": 238},
          {"country": "Bermuda", "num_deaths": 157},
          {"country": "Nicaragua", "num_deaths": 225},
          {"country": "South Sudan", "num_deaths": 138},
          {"country": "Tajikistan", "num_deaths": 125},
          {"country": "Equatorial Guinea", "num_deaths": 183},
          {"country": "Tonga", "num_deaths": 13},
          {"country": "Samoa", "num_deaths": 29},
          {"country": "Monaco", "num_deaths": 65},
          {"country": "Dominica", "num_deaths": 74},
          {"country": "Djibouti", "num_deaths": 189},
          {"country": "Marshall Islands", "num_deaths": 17},
          {"country": "CAR", "num_deaths": 113},
          {"country": "Gambia", "num_deaths": 372},
          {"country": "Saint Martin", "num_deaths": 63},
          {"country": "Vanuatu", "num_deaths": 14},
          {"country": "Greenland", "num_deaths": 21},
          {"country": "Yemen", "num_deaths": 2159},
          {"country": "Caribbean Netherlands", "num_deaths": 38},
          {"country": "Sint Maarten", "num_deaths": 89},
          {"country": "Eritrea", "num_deaths": 103},
          {"country": "Niger", "num_deaths": 312},
          {"country": "St. Vincent Grenadines", "num_deaths": 123},
          {"country": "Antigua and Barbuda", "num_deaths": 146},
          {"country": "Comoros", "num_deaths": 161},
          {"country": "Guinea-Bissau", "num_deaths": 176},
          {"country": "Liberia", "num_deaths": 294},
          {"country": "Sierra Leone", "num_deaths": 126},
          {"country": "Chad", "num_deaths": 194},
          {"country": "British Virgin Islands", "num_deaths": 64},
          {"country": "Saint Kitts and Nevis", "num_deaths": 46}
        ],
        "transform": [
          {
            "type": "filter",
            "expr": "datum.num_deaths <= Deaths"
          }
        ]
      }
    ],
    "scales": [
      {
        "name": "size",
        "domain": {"data": "table", "field": "num_deaths"},
        "range": [1200, 13000],
        "nice": true
      },
      {
        "name": "color",
        "type": "linear",
        "domain": [700, 10000, 100000, 200000, 450000, 1150000],
        "range": ["#C6D9D1", "#A8D1C5", "#85CEC3", "#5FCECE", "#34BCD3", "#059EDC"]
      }
    ],
    "legends": [
      {
        "fill": "color",
        "title": "Number of Deaths",
        "gradientLength": 200,
        "gradientThickness": 20,
        "direction": "horizontal",
        "tickCount": 6,
        "titleFontSize": 16,
        "labelFontSize": 11,
        "orient": "bottom",
        "offset": -20
      }
    ],
    "marks": [
      {
        "name": "nodes",
        "type": "symbol",
        "from": {"data": "table"},
        "encode": {
          "enter": {
            "fill": {"scale": "color", "field": "num_deaths"},
            "xfocus": {"signal": "width / 2"},
            "yfocus": {"signal": "height / 2"}
          },
          "update": {
            "size": {"signal": "scale('size', datum.num_deaths)"},
            "stroke": {"value": "white"},
            "strokeWidth": {"value": 1},
            "tooltip": {"signal": "{'Country:': datum.country, 'Deaths Count:': datum.num_deaths}"}
          }
        },
        "transform": [
          {
            "type": "force",
            "iterations": 100,
            "static": false,
            "forces": [
              {
                "force": "collide",
                "iterations": 2,
                "radius": {"expr": "sqrt(datum.size) / 2"}
              },
              {"force": "center", "x": {"signal": "width / 2"}, "y": {"signal": "height / 2"}},
              {"force": "x", "x": "xfocus"},
              {"force": "y", "y": "yfocus"}
            ]
          }
        ]
      },
      {
        "type": "text",
        "from": {"data": "nodes"},
        "encode": {
          "enter": {
            "align": {"value": "center"},
            "baseline": {"value": "middle"},
            "fontSize": {"value": 11},
            "fill": {"value": "black"},
            "text": {"field": "datum.country"}
          },
          "update": {"x": {"field": "x"}, "y": {"field": "y"}}
        }
      }
    ]
  }